{"ast":null,"code":"function cov_qq75pxo1t() {\n  var path = \"C:\\\\progs\\\\vaimee\\\\sjenar\\\\jena-fuseki2\\\\jena-fuseki-ui\\\\src\\\\views\\\\dataset\\\\Upload.vue\";\n  var hash = \"7658cd791692b1bb0d30a44ca34a0bd9c17ae2ef\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\progs\\\\vaimee\\\\sjenar\\\\jena-fuseki2\\\\jena-fuseki-ui\\\\src\\\\views\\\\dataset\\\\Upload.vue\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 178,\n          column: 0\n        },\n        end: {\n          line: 178,\n          column: 59\n        }\n      },\n      \"1\": {\n        start: {\n          line: 194,\n          column: 4\n        },\n        end: {\n          line: 254,\n          column: 5\n        }\n      },\n      \"2\": {\n        start: {\n          line: 259,\n          column: 6\n        },\n        end: {\n          line: 261,\n          column: 7\n        }\n      },\n      \"3\": {\n        start: {\n          line: 260,\n          column: 8\n        },\n        end: {\n          line: 260,\n          column: 17\n        }\n      },\n      \"4\": {\n        start: {\n          line: 262,\n          column: 6\n        },\n        end: {\n          line: 267,\n          column: 10\n        }\n      },\n      \"5\": {\n        start: {\n          line: 264,\n          column: 10\n        },\n        end: {\n          line: 266,\n          column: 12\n        }\n      },\n      \"6\": {\n        start: {\n          line: 270,\n          column: 6\n        },\n        end: {\n          line: 272,\n          column: 7\n        }\n      },\n      \"7\": {\n        start: {\n          line: 271,\n          column: 8\n        },\n        end: {\n          line: 271,\n          column: 17\n        }\n      },\n      \"8\": {\n        start: {\n          line: 273,\n          column: 21\n        },\n        end: {\n          line: 273,\n          column: 132\n        }\n      },\n      \"9\": {\n        start: {\n          line: 274,\n          column: 27\n        },\n        end: {\n          line: 274,\n          column: 107\n        }\n      },\n      \"10\": {\n        start: {\n          line: 274,\n          column: 85\n        },\n        end: {\n          line: 274,\n          column: 100\n        }\n      },\n      \"11\": {\n        start: {\n          line: 275,\n          column: 6\n        },\n        end: {\n          line: 275,\n          column: 94\n        }\n      },\n      \"12\": {\n        start: {\n          line: 281,\n          column: 6\n        },\n        end: {\n          line: 285,\n          column: 7\n        }\n      },\n      \"13\": {\n        start: {\n          line: 283,\n          column: 8\n        },\n        end: {\n          line: 283,\n          column: 27\n        }\n      },\n      \"14\": {\n        start: {\n          line: 284,\n          column: 8\n        },\n        end: {\n          line: 284,\n          column: 23\n        }\n      },\n      \"15\": {\n        start: {\n          line: 286,\n          column: 6\n        },\n        end: {\n          line: 288,\n          column: 7\n        }\n      },\n      \"16\": {\n        start: {\n          line: 287,\n          column: 8\n        },\n        end: {\n          line: 287,\n          column: 24\n        }\n      },\n      \"17\": {\n        start: {\n          line: 289,\n          column: 6\n        },\n        end: {\n          line: 291,\n          column: 7\n        }\n      },\n      \"18\": {\n        start: {\n          line: 290,\n          column: 8\n        },\n        end: {\n          line: 290,\n          column: 24\n        }\n      },\n      \"19\": {\n        start: {\n          line: 292,\n          column: 6\n        },\n        end: {\n          line: 292,\n          column: 15\n        }\n      },\n      \"20\": {\n        start: {\n          line: 295,\n          column: 6\n        },\n        end: {\n          line: 295,\n          column: 36\n        }\n      },\n      \"21\": {\n        start: {\n          line: 305,\n          column: 16\n        },\n        end: {\n          line: 305,\n          column: 20\n        }\n      },\n      \"22\": {\n        start: {\n          line: 306,\n          column: 16\n        },\n        end: {\n          line: 306,\n          column: 21\n        }\n      },\n      \"23\": {\n        start: {\n          line: 308,\n          column: 6\n        },\n        end: {\n          line: 314,\n          column: 7\n        }\n      },\n      \"24\": {\n        start: {\n          line: 309,\n          column: 8\n        },\n        end: {\n          line: 309,\n          column: 65\n        }\n      },\n      \"25\": {\n        start: {\n          line: 310,\n          column: 13\n        },\n        end: {\n          line: 314,\n          column: 7\n        }\n      },\n      \"26\": {\n        start: {\n          line: 311,\n          column: 8\n        },\n        end: {\n          line: 311,\n          column: 65\n        }\n      },\n      \"27\": {\n        start: {\n          line: 313,\n          column: 8\n        },\n        end: {\n          line: 313,\n          column: 30\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 193,\n            column: 2\n          },\n          end: {\n            line: 193,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 193,\n            column: 10\n          },\n          end: {\n            line: 255,\n            column: 3\n          }\n        },\n        line: 193\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 258,\n            column: 4\n          },\n          end: {\n            line: 258,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 258,\n            column: 25\n          },\n          end: {\n            line: 268,\n            column: 5\n          }\n        },\n        line: 258\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 263,\n            column: 13\n          },\n          end: {\n            line: 263,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 263,\n            column: 21\n          },\n          end: {\n            line: 267,\n            column: 9\n          }\n        },\n        line: 263\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 269,\n            column: 4\n          },\n          end: {\n            line: 269,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 269,\n            column: 21\n          },\n          end: {\n            line: 276,\n            column: 5\n          }\n        },\n        line: 269\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 274,\n            column: 73\n          },\n          end: {\n            line: 274,\n            column: 74\n          }\n        },\n        loc: {\n          start: {\n            line: 274,\n            column: 85\n          },\n          end: {\n            line: 274,\n            column: 100\n          }\n        },\n        line: 274\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 280,\n            column: 4\n          },\n          end: {\n            line: 280,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 280,\n            column: 25\n          },\n          end: {\n            line: 293,\n            column: 5\n          }\n        },\n        line: 280\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 294,\n            column: 4\n          },\n          end: {\n            line: 294,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 294,\n            column: 18\n          },\n          end: {\n            line: 296,\n            column: 5\n          }\n        },\n        line: 294\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 304,\n            column: 22\n          },\n          end: {\n            line: 304,\n            column: 23\n          }\n        },\n        loc: {\n          start: {\n            line: 304,\n            column: 38\n          },\n          end: {\n            line: 315,\n            column: 5\n          }\n        },\n        line: 304\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 259,\n            column: 6\n          },\n          end: {\n            line: 261,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 259,\n            column: 6\n          },\n          end: {\n            line: 261,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 259\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 270,\n            column: 6\n          },\n          end: {\n            line: 272,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 270,\n            column: 6\n          },\n          end: {\n            line: 272,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 270\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 270,\n            column: 10\n          },\n          end: {\n            line: 270,\n            column: 74\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 270,\n            column: 10\n          },\n          end: {\n            line: 270,\n            column: 34\n          }\n        }, {\n          start: {\n            line: 270,\n            column: 38\n          },\n          end: {\n            line: 270,\n            column: 74\n          }\n        }],\n        line: 270\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 273,\n            column: 21\n          },\n          end: {\n            line: 273,\n            column: 132\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 273,\n            column: 89\n          },\n          end: {\n            line: 273,\n            column: 127\n          }\n        }, {\n          start: {\n            line: 273,\n            column: 130\n          },\n          end: {\n            line: 273,\n            column: 132\n          }\n        }],\n        line: 273\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 273,\n            column: 22\n          },\n          end: {\n            line: 273,\n            column: 85\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 273,\n            column: 22\n          },\n          end: {\n            line: 273,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 273,\n            column: 52\n          },\n          end: {\n            line: 273,\n            column: 85\n          }\n        }],\n        line: 273\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 274,\n            column: 27\n          },\n          end: {\n            line: 274,\n            column: 107\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 274,\n            column: 27\n          },\n          end: {\n            line: 274,\n            column: 101\n          }\n        }, {\n          start: {\n            line: 274,\n            column: 105\n          },\n          end: {\n            line: 274,\n            column: 107\n          }\n        }],\n        line: 274\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 281,\n            column: 6\n          },\n          end: {\n            line: 285,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 281,\n            column: 6\n          },\n          end: {\n            line: 285,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 281\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 286,\n            column: 6\n          },\n          end: {\n            line: 288,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 286,\n            column: 6\n          },\n          end: {\n            line: 288,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 286\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 289,\n            column: 6\n          },\n          end: {\n            line: 291,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 289,\n            column: 6\n          },\n          end: {\n            line: 291,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 289\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 308,\n            column: 6\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 308,\n            column: 6\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 310,\n            column: 13\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        }],\n        line: 308\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 310,\n            column: 13\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 310,\n            column: 13\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 312,\n            column: 13\n          },\n          end: {\n            line: 314,\n            column: 7\n          }\n        }],\n        line: 310\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      sources: [\"Upload.vue\"],\n      names: [],\n      mappings: \";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA\",\n      file: \"Upload.vue\",\n      sourceRoot: \"src/views/dataset\",\n      sourcesContent: [\"<!--\\n   Licensed to the Apache Software Foundation (ASF) under one or more\\n   contributor license agreements.  See the NOTICE file distributed with\\n   this work for additional information regarding copyright ownership.\\n   The ASF licenses this file to You under the Apache License, Version 2.0\\n   (the \\\"License\\\"); you may not use this file except in compliance with\\n   the License.  You may obtain a copy of the License at\\n\\n       http://www.apache.org/licenses/LICENSE-2.0\\n\\n   Unless required by applicable law or agreed to in writing, software\\n   distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n   See the License for the specific language governing permissions and\\n   limitations under the License.\\n-->\\n\\n<template>\\n  <b-container fluid>\\n    <b-row class=\\\"mt-4\\\">\\n      <b-col cols=\\\"12\\\">\\n        <h2>/{{ this.datasetName }}</h2>\\n        <b-card no-body>\\n          <b-card-header header-tag=\\\"nav\\\">\\n            <Menu :dataset-name=\\\"datasetName\\\" />\\n          </b-card-header>\\n          <b-card-body v-if=\\\"!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0\\\">\\n            <b-alert show variant=\\\"warning\\\">No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.</b-alert>\\n          </b-card-body>\\n          <b-card-body v-else>\\n            <div v-show=\\\"$refs.upload && $refs.upload.dropActive\\\" class=\\\"drop-active\\\">\\n              <h3>Drop files to upload</h3>\\n            </div>\\n            <b-row>\\n              <b-col sm=\\\"12\\\">\\n                <h3>Upload files</h3>\\n                <p>Load data into the default graph of the currently selected dataset, or the given named graph.\\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\\n                <b-form>\\n                  <b-form-group\\n                    id=\\\"dataset-graph-name-group\\\"\\n                    label=\\\"Dataset graph name\\\"\\n                    label-for=\\\"dataset-graph-name\\\"\\n                    label-cols=\\\"12\\\"\\n                    label-cols-sm=\\\"4\\\"\\n                    label-cols-md=\\\"4\\\"\\n                    label-cols-lg=\\\"2\\\"\\n                    label-size=\\\"sm\\\"\\n                  >\\n                    <b-form-input\\n                      pattern=\\\"[^\\\\s]+\\\"\\n                      oninvalid=\\\"this.setCustomValidity('Enter a valid dataset graph name')\\\"\\n                      oninput=\\\"this.setCustomValidity('')\\\"\\n                      id=\\\"dataset-graph-name\\\"\\n                      v-model=\\\"form.datasetGraphName\\\"\\n                      type=\\\"text\\\"\\n                      placeholder=\\\"Leave blank for default graph\\\"\\n                      trim\\n                    ></b-form-input>\\n                  </b-form-group>\\n                  <b-form-group\\n                    id=\\\"dataset-files\\\"\\n                    label=\\\"Files to upload\\\"\\n                    label-for=\\\"add-files-action-dropdown\\\"\\n                    label-cols=\\\"12\\\"\\n                    label-cols-sm=\\\"4\\\"\\n                    label-cols-md=\\\"4\\\"\\n                    label-cols-lg=\\\"2\\\"\\n                    label-size=\\\"sm\\\"\\n                  >\\n                    <file-upload\\n                      ref=\\\"upload\\\"\\n                      v-model=\\\"upload.files\\\"\\n                      :post-action=\\\"postActionUrl\\\"\\n                      :extensions=\\\"upload.extensions\\\"\\n                      :accept=\\\"upload.accept\\\"\\n                      :multiple=\\\"upload.multiple\\\"\\n                      :directory=\\\"upload.directory\\\"\\n                      :size=\\\"upload.size || 0\\\"\\n                      :thread=\\\"upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)\\\"\\n                      :headers=\\\"upload.headers\\\"\\n                      :data=\\\"upload.data\\\"\\n                      :drop=\\\"upload.drop\\\"\\n                      :drop-directory=\\\"upload.dropDirectory\\\"\\n                      :add-index=\\\"upload.addIndex\\\"\\n                      class=\\\"btn btn-success\\\"\\n                    >\\n                      <FontAwesomeIcon icon=\\\"plus\\\" />\\n                      <span class=\\\"ml-2\\\">select files</span>\\n                    </file-upload>\\n                    <b-button\\n                      v-if=\\\"!$refs.upload || !$refs.upload.active\\\"\\n                      @click.prevent=\\\"$refs.upload.active = true\\\"\\n                      variant=\\\"primary\\\"\\n                      class=\\\"ml-2 d-inline\\\">\\n                      <FontAwesomeIcon icon=\\\"upload\\\" />\\n                      <span class=\\\"ml-2\\\">upload all</span>\\n                    </b-button>\\n                    <b-button\\n                      v-else\\n                      @click.prevent=\\\"$refs.upload.active = false\\\"\\n                      variant=\\\"primary\\\"\\n                      class=\\\"ml-2 d-inline\\\">\\n                      <FontAwesomeIcon icon=\\\"times-circle\\\" />\\n                      <span class=\\\"ml-2\\\">stop upload</span>\\n                    </b-button>\\n                  </b-form-group>\\n                </b-form>\\n              </b-col>\\n            </b-row>\\n            <b-row>\\n              <b-col>\\n                <b-table\\n                  :fields=\\\"datasetTableFields\\\"\\n                  :items=\\\"datasetTableItems\\\"\\n                  stacked=\\\"lg\\\"\\n                  empty-text=\\\"No files selected\\\"\\n                  bordered\\n                  fixed\\n                  hover\\n                  show-empty\\n                >\\n                  <template v-slot:cell(size)=\\\"data\\\">\\n                    {{ readableFileSize(data.item.size) }}\\n                  </template>\\n                  <template v-slot:cell(speed)=\\\"data\\\">\\n                    {{ readableFileSize(data.item.speed) }}/s\\n                  </template>\\n                  <template v-slot:cell(status)=\\\"data\\\">\\n                    <b-progress\\n                      :variant=\\\"getFileStatus(data.item)\\\"\\n                      :value=\\\"data.item.progress\\\"\\n                      :max=\\\"100\\\"\\n                      :precision=\\\"2\\\"\\n                      show-progress></b-progress>\\n                    <span class=\\\"small\\\">Triples uploaded:&nbsp;</span>\\n                    <span v-if=\\\"data.item.response.tripleCount\\\" class=\\\"small\\\">\\n                      {{ data.item.response.tripleCount }}\\n                    </span>\\n                    <span v-else class=\\\"small\\\">0</span>\\n                  </template>\\n                  <template v-slot:cell(actions)=\\\"data\\\">\\n                    <b-button\\n                      @click.prevent=\\\"data.item.success || data.item.error === 'compressing' ? false : $refs.upload.update(data.item, {active: true})\\\"\\n                      variant=\\\"outline-primary\\\"\\n                      class=\\\"mr-0 mb-2 d-block\\\"\\n                    >\\n                      <FontAwesomeIcon icon=\\\"upload\\\" />\\n                      <span class=\\\"ml-2\\\">upload now</span>\\n                    </b-button>\\n                    <b-button\\n                      @click.prevent=\\\"remove(data.item)\\\"\\n                      variant=\\\"outline-primary\\\"\\n                      class=\\\"mr-0 mb-md-0 d-block d-md-inline-block\\\"\\n                    >\\n                      <FontAwesomeIcon icon=\\\"minus-circle\\\" />\\n                      <span class=\\\"ml-2\\\">remove</span>\\n                    </b-button>\\n                  </template>\\n                </b-table>\\n              </b-col>\\n            </b-row>\\n          </b-card-body>\\n        </b-card>\\n      </b-col>\\n    </b-row>\\n  </b-container>\\n</template>\\n\\n<script>\\nimport Menu from '@/components/dataset/Menu'\\nimport FileUpload from 'vue-upload-component'\\nimport { library } from '@fortawesome/fontawesome-svg-core'\\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons'\\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\\nimport currentDatasetMixin from '@/mixins/current-dataset'\\n\\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\\n\\nexport default {\\n  name: 'DatasetUpload',\\n\\n  components: {\\n    Menu,\\n    FontAwesomeIcon,\\n    FileUpload\\n  },\\n\\n  mixins: [\\n    currentDatasetMixin\\n  ],\\n\\n  data () {\\n    return {\\n      form: {\\n        datasetGraphName: null,\\n        datasetFiles: null\\n      },\\n      upload: {\\n        files: [],\\n        accept: '', // e.g. 'ttl,xml,rdf,...'\\n        minSize: 0,\\n        // size: 1024 * 1024 * 10,\\n        multiple: true,\\n        directory: false,\\n        drop: true,\\n        dropDirectory: true,\\n        addIndex: false,\\n        thread: 3,\\n        name: 'file',\\n        headers: { // e.g. CSRF headers\\n        },\\n        data: {},\\n        autoCompress: 1024 * 1024,\\n        uploadAuto: false,\\n        isOption: false\\n        // addData: {\\n        //   show: false,\\n        //   name: '',\\n        //   type: '',\\n        //   content: ''\\n        // },\\n        // editFile: {\\n        //   show: false,\\n        //   name: ''\\n        // }\\n      },\\n      datasetTableFields: [\\n        {\\n          key: 'name',\\n          label: 'name',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        },\\n        {\\n          key: 'size',\\n          label: 'size',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        },\\n        {\\n          key: 'speed',\\n          label: 'speed'\\n        },\\n        {\\n          key: 'status',\\n          label: 'status'\\n        },\\n        {\\n          key: 'actions',\\n          label: 'actions'\\n        }\\n      ]\\n    }\\n  },\\n\\n  computed: {\\n    datasetTableItems () {\\n      if (!this.upload.files) {\\n        return []\\n      }\\n      return this.upload.files\\n        .map(file => {\\n          return Object.assign(file, {\\n            status: this.getFileStatus(file)\\n          })\\n        })\\n    },\\n    postActionUrl () {\\n      if (!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0) {\\n        return ''\\n      }\\n      const params = (this.form.datasetGraphName && this.form.datasetGraphName !== '') ? `?graph=${this.form.datasetGraphName}` : ''\\n      const dataEndpoint = this.services['gsp-rw']['srv.endpoints'].find(endpoint => endpoint !== '') || ''\\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\\n    }\\n  },\\n\\n  methods: {\\n    getFileStatus (file) {\\n      if (file.error) {\\n        // eslint-disable-next-line no-console\\n        console.error(file)\\n        return 'danger'\\n      }\\n      if (file.success) {\\n        return 'success'\\n      }\\n      if (file.active) {\\n        return 'warning'\\n      }\\n      return ''\\n    },\\n    remove (file) {\\n      this.$refs.upload.remove(file)\\n    },\\n    /**\\n     * Return file size in bytes in a human-readable form.\\n     *\\n     * Copied from the Backbone.js code with modifications.\\n     *\\n     * Replaced sprintf usage by .toFixed(2).\\n     */\\n    readableFileSize: function (size) {\\n      const k = 1024\\n      const m = k * k\\n\\n      if (size >= m) {\\n        return `${(size / m).toFixed(2).replace(/\\\\.?0*$/, '')}mb`\\n      } else if (size >= k) {\\n        return `${(size / k).toFixed(2).replace(/\\\\.?0*$/, '')}kb`\\n      } else {\\n        return `${size} bytes`\\n      }\\n    }\\n  }\\n}\\n</script>\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"7658cd791692b1bb0d30a44ca34a0bd9c17ae2ef\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_qq75pxo1t = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_qq75pxo1t();\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Menu from '@/components/dataset/Menu';\nimport FileUpload from 'vue-upload-component';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport currentDatasetMixin from '@/mixins/current-dataset';\ncov_qq75pxo1t().s[0]++;\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle);\nexport default {\n  name: 'DatasetUpload',\n  components: {\n    Menu: Menu,\n    FontAwesomeIcon: FontAwesomeIcon,\n    FileUpload: FileUpload\n  },\n  mixins: [currentDatasetMixin],\n  data: function data() {\n    cov_qq75pxo1t().f[0]++;\n    cov_qq75pxo1t().s[1]++;\n    return {\n      form: {\n        datasetGraphName: null,\n        datasetFiles: null\n      },\n      upload: {\n        files: [],\n        accept: '',\n        // e.g. 'ttl,xml,rdf,...'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: 'file',\n        headers: {// e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false // addData: {\n        //   show: false,\n        //   name: '',\n        //   type: '',\n        //   content: ''\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: ''\n        // }\n\n      },\n      datasetTableFields: [{\n        key: 'name',\n        label: 'name',\n        sortable: true,\n        sortDirection: 'asc'\n      }, {\n        key: 'size',\n        label: 'size',\n        sortable: true,\n        sortDirection: 'asc'\n      }, {\n        key: 'speed',\n        label: 'speed'\n      }, {\n        key: 'status',\n        label: 'status'\n      }, {\n        key: 'actions',\n        label: 'actions'\n      }]\n    };\n  },\n  computed: {\n    datasetTableItems: function datasetTableItems() {\n      var _this = this;\n\n      cov_qq75pxo1t().f[1]++;\n      cov_qq75pxo1t().s[2]++;\n\n      if (!this.upload.files) {\n        cov_qq75pxo1t().b[0][0]++;\n        cov_qq75pxo1t().s[3]++;\n        return [];\n      } else {\n        cov_qq75pxo1t().b[0][1]++;\n      }\n\n      cov_qq75pxo1t().s[4]++;\n      return this.upload.files.map(function (file) {\n        cov_qq75pxo1t().f[2]++;\n        cov_qq75pxo1t().s[5]++;\n        return Object.assign(file, {\n          status: _this.getFileStatus(file)\n        });\n      });\n    },\n    postActionUrl: function postActionUrl() {\n      cov_qq75pxo1t().f[3]++;\n      cov_qq75pxo1t().s[6]++;\n\n      if ((cov_qq75pxo1t().b[2][0]++, !this.services['gsp-rw']) || (cov_qq75pxo1t().b[2][1]++, this.services['gsp-rw'].length === 0)) {\n        cov_qq75pxo1t().b[1][0]++;\n        cov_qq75pxo1t().s[7]++;\n        return '';\n      } else {\n        cov_qq75pxo1t().b[1][1]++;\n      }\n\n      var params = (cov_qq75pxo1t().s[8]++, (cov_qq75pxo1t().b[4][0]++, this.form.datasetGraphName) && (cov_qq75pxo1t().b[4][1]++, this.form.datasetGraphName !== '') ? (cov_qq75pxo1t().b[3][0]++, \"?graph=\".concat(this.form.datasetGraphName)) : (cov_qq75pxo1t().b[3][1]++, ''));\n      var dataEndpoint = (cov_qq75pxo1t().s[9]++, (cov_qq75pxo1t().b[5][0]++, this.services['gsp-rw']['srv.endpoints'].find(function (endpoint) {\n        cov_qq75pxo1t().f[4]++;\n        cov_qq75pxo1t().s[10]++;\n        return endpoint !== '';\n      })) || (cov_qq75pxo1t().b[5][1]++, ''));\n      cov_qq75pxo1t().s[11]++;\n      return this.$fusekiService.getFusekiUrl(\"/\".concat(this.datasetName, \"/\").concat(dataEndpoint).concat(params));\n    }\n  },\n  methods: {\n    getFileStatus: function getFileStatus(file) {\n      cov_qq75pxo1t().f[5]++;\n      cov_qq75pxo1t().s[12]++;\n\n      if (file.error) {\n        cov_qq75pxo1t().b[6][0]++;\n        cov_qq75pxo1t().s[13]++;\n        // eslint-disable-next-line no-console\n        console.error(file);\n        cov_qq75pxo1t().s[14]++;\n        return 'danger';\n      } else {\n        cov_qq75pxo1t().b[6][1]++;\n      }\n\n      cov_qq75pxo1t().s[15]++;\n\n      if (file.success) {\n        cov_qq75pxo1t().b[7][0]++;\n        cov_qq75pxo1t().s[16]++;\n        return 'success';\n      } else {\n        cov_qq75pxo1t().b[7][1]++;\n      }\n\n      cov_qq75pxo1t().s[17]++;\n\n      if (file.active) {\n        cov_qq75pxo1t().b[8][0]++;\n        cov_qq75pxo1t().s[18]++;\n        return 'warning';\n      } else {\n        cov_qq75pxo1t().b[8][1]++;\n      }\n\n      cov_qq75pxo1t().s[19]++;\n      return '';\n    },\n    remove: function remove(file) {\n      cov_qq75pxo1t().f[6]++;\n      cov_qq75pxo1t().s[20]++;\n      this.$refs.upload.remove(file);\n    },\n\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function readableFileSize(size) {\n      cov_qq75pxo1t().f[7]++;\n      var k = (cov_qq75pxo1t().s[21]++, 1024);\n      var m = (cov_qq75pxo1t().s[22]++, k * k);\n      cov_qq75pxo1t().s[23]++;\n\n      if (size >= m) {\n        cov_qq75pxo1t().b[9][0]++;\n        cov_qq75pxo1t().s[24]++;\n        return \"\".concat((size / m).toFixed(2).replace(/\\.?0*$/, ''), \"mb\");\n      } else {\n        cov_qq75pxo1t().b[9][1]++;\n        cov_qq75pxo1t().s[25]++;\n\n        if (size >= k) {\n          cov_qq75pxo1t().b[10][0]++;\n          cov_qq75pxo1t().s[26]++;\n          return \"\".concat((size / k).toFixed(2).replace(/\\.?0*$/, ''), \"kb\");\n        } else {\n          cov_qq75pxo1t().b[10][1]++;\n          cov_qq75pxo1t().s[27]++;\n          return \"\".concat(size, \" bytes\");\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["library","name","components","Menu","FontAwesomeIcon","FileUpload","mixins","currentDatasetMixin","data","form","datasetGraphName","datasetFiles","upload","files","accept","minSize","multiple","directory","drop","dropDirectory","addIndex","thread","headers","autoCompress","uploadAuto","isOption","datasetTableFields","key","label","sortable","sortDirection","computed","datasetTableItems","map","status","postActionUrl","methods","getFileStatus","file","console","remove","readableFileSize"],"sourceRoot":"src/views/dataset","sources":["Upload.vue"],"sourcesContent":["<!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the \"License\"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n-->\n\n<template>\n  <b-container fluid>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"12\">\n        <h2>/{{ this.datasetName }}</h2>\n        <b-card no-body>\n          <b-card-header header-tag=\"nav\">\n            <Menu :dataset-name=\"datasetName\" />\n          </b-card-header>\n          <b-card-body v-if=\"!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0\">\n            <b-alert show variant=\"warning\">No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.</b-alert>\n          </b-card-body>\n          <b-card-body v-else>\n            <div v-show=\"$refs.upload && $refs.upload.dropActive\" class=\"drop-active\">\n              <h3>Drop files to upload</h3>\n            </div>\n            <b-row>\n              <b-col sm=\"12\">\n                <h3>Upload files</h3>\n                <p>Load data into the default graph of the currently selected dataset, or the given named graph.\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\n                <b-form>\n                  <b-form-group\n                    id=\"dataset-graph-name-group\"\n                    label=\"Dataset graph name\"\n                    label-for=\"dataset-graph-name\"\n                    label-cols=\"12\"\n                    label-cols-sm=\"4\"\n                    label-cols-md=\"4\"\n                    label-cols-lg=\"2\"\n                    label-size=\"sm\"\n                  >\n                    <b-form-input\n                      pattern=\"[^\\s]+\"\n                      oninvalid=\"this.setCustomValidity('Enter a valid dataset graph name')\"\n                      oninput=\"this.setCustomValidity('')\"\n                      id=\"dataset-graph-name\"\n                      v-model=\"form.datasetGraphName\"\n                      type=\"text\"\n                      placeholder=\"Leave blank for default graph\"\n                      trim\n                    ></b-form-input>\n                  </b-form-group>\n                  <b-form-group\n                    id=\"dataset-files\"\n                    label=\"Files to upload\"\n                    label-for=\"add-files-action-dropdown\"\n                    label-cols=\"12\"\n                    label-cols-sm=\"4\"\n                    label-cols-md=\"4\"\n                    label-cols-lg=\"2\"\n                    label-size=\"sm\"\n                  >\n                    <file-upload\n                      ref=\"upload\"\n                      v-model=\"upload.files\"\n                      :post-action=\"postActionUrl\"\n                      :extensions=\"upload.extensions\"\n                      :accept=\"upload.accept\"\n                      :multiple=\"upload.multiple\"\n                      :directory=\"upload.directory\"\n                      :size=\"upload.size || 0\"\n                      :thread=\"upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)\"\n                      :headers=\"upload.headers\"\n                      :data=\"upload.data\"\n                      :drop=\"upload.drop\"\n                      :drop-directory=\"upload.dropDirectory\"\n                      :add-index=\"upload.addIndex\"\n                      class=\"btn btn-success\"\n                    >\n                      <FontAwesomeIcon icon=\"plus\" />\n                      <span class=\"ml-2\">select files</span>\n                    </file-upload>\n                    <b-button\n                      v-if=\"!$refs.upload || !$refs.upload.active\"\n                      @click.prevent=\"$refs.upload.active = true\"\n                      variant=\"primary\"\n                      class=\"ml-2 d-inline\">\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ml-2\">upload all</span>\n                    </b-button>\n                    <b-button\n                      v-else\n                      @click.prevent=\"$refs.upload.active = false\"\n                      variant=\"primary\"\n                      class=\"ml-2 d-inline\">\n                      <FontAwesomeIcon icon=\"times-circle\" />\n                      <span class=\"ml-2\">stop upload</span>\n                    </b-button>\n                  </b-form-group>\n                </b-form>\n              </b-col>\n            </b-row>\n            <b-row>\n              <b-col>\n                <b-table\n                  :fields=\"datasetTableFields\"\n                  :items=\"datasetTableItems\"\n                  stacked=\"lg\"\n                  empty-text=\"No files selected\"\n                  bordered\n                  fixed\n                  hover\n                  show-empty\n                >\n                  <template v-slot:cell(size)=\"data\">\n                    {{ readableFileSize(data.item.size) }}\n                  </template>\n                  <template v-slot:cell(speed)=\"data\">\n                    {{ readableFileSize(data.item.speed) }}/s\n                  </template>\n                  <template v-slot:cell(status)=\"data\">\n                    <b-progress\n                      :variant=\"getFileStatus(data.item)\"\n                      :value=\"data.item.progress\"\n                      :max=\"100\"\n                      :precision=\"2\"\n                      show-progress></b-progress>\n                    <span class=\"small\">Triples uploaded:&nbsp;</span>\n                    <span v-if=\"data.item.response.tripleCount\" class=\"small\">\n                      {{ data.item.response.tripleCount }}\n                    </span>\n                    <span v-else class=\"small\">0</span>\n                  </template>\n                  <template v-slot:cell(actions)=\"data\">\n                    <b-button\n                      @click.prevent=\"data.item.success || data.item.error === 'compressing' ? false : $refs.upload.update(data.item, {active: true})\"\n                      variant=\"outline-primary\"\n                      class=\"mr-0 mb-2 d-block\"\n                    >\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ml-2\">upload now</span>\n                    </b-button>\n                    <b-button\n                      @click.prevent=\"remove(data.item)\"\n                      variant=\"outline-primary\"\n                      class=\"mr-0 mb-md-0 d-block d-md-inline-block\"\n                    >\n                      <FontAwesomeIcon icon=\"minus-circle\" />\n                      <span class=\"ml-2\">remove</span>\n                    </b-button>\n                  </template>\n                </b-table>\n              </b-col>\n            </b-row>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Menu from '@/components/dataset/Menu'\nimport FileUpload from 'vue-upload-component'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport currentDatasetMixin from '@/mixins/current-dataset'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: 'DatasetUpload',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      form: {\n        datasetGraphName: null,\n        datasetFiles: null\n      },\n      upload: {\n        files: [],\n        accept: '', // e.g. 'ttl,xml,rdf,...'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: 'file',\n        headers: { // e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: '',\n        //   type: '',\n        //   content: ''\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: ''\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: 'name',\n          label: 'name',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'size',\n          label: 'size',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'speed',\n          label: 'speed'\n        },\n        {\n          key: 'status',\n          label: 'status'\n        },\n        {\n          key: 'actions',\n          label: 'actions'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      if (!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0) {\n        return ''\n      }\n      const params = (this.form.datasetGraphName && this.form.datasetGraphName !== '') ? `?graph=${this.form.datasetGraphName}` : ''\n      const dataEndpoint = this.services['gsp-rw']['srv.endpoints'].find(endpoint => endpoint !== '') || ''\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        // eslint-disable-next-line no-console\n        console.error(file)\n        return 'danger'\n      }\n      if (file.success) {\n        return 'success'\n      }\n      if (file.active) {\n        return 'warning'\n      }\n      return ''\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, '')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, '')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}