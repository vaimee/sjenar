{"ast":null,"code":"import _asyncToGenerator from \"C:/progs/vaimee/sjenar/jena-fuseki2/jena-fuseki-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nfunction cov_154jr3v6y5() {\n  var path = \"C:\\\\progs\\\\vaimee\\\\sjenar\\\\jena-fuseki2\\\\jena-fuseki-ui\\\\src\\\\views\\\\dataset\\\\Info.vue\";\n  var hash = \"ff20620abc22e0e6aa2435980ba842059869d79e\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\progs\\\\vaimee\\\\sjenar\\\\jena-fuseki2\\\\jena-fuseki-ui\\\\src\\\\views\\\\dataset\\\\Info.vue\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 167,\n          column: 4\n        },\n        end: {\n          line: 210,\n          column: 5\n        }\n      },\n      \"1\": {\n        start: {\n          line: 215,\n          column: 6\n        },\n        end: {\n          line: 217,\n          column: 7\n        }\n      },\n      \"2\": {\n        start: {\n          line: 216,\n          column: 8\n        },\n        end: {\n          line: 216,\n          column: 17\n        }\n      },\n      \"3\": {\n        start: {\n          line: 218,\n          column: 22\n        },\n        end: {\n          line: 218,\n          column: 72\n        }\n      },\n      \"4\": {\n        start: {\n          line: 219,\n          column: 24\n        },\n        end: {\n          line: 219,\n          column: 41\n        }\n      },\n      \"5\": {\n        start: {\n          line: 220,\n          column: 6\n        },\n        end: {\n          line: 222,\n          column: 7\n        }\n      },\n      \"6\": {\n        start: {\n          line: 221,\n          column: 8\n        },\n        end: {\n          line: 221,\n          column: 17\n        }\n      },\n      \"7\": {\n        start: {\n          line: 224,\n          column: 20\n        },\n        end: {\n          line: 234,\n          column: 10\n        }\n      },\n      \"8\": {\n        start: {\n          line: 226,\n          column: 27\n        },\n        end: {\n          line: 226,\n          column: 155\n        }\n      },\n      \"9\": {\n        start: {\n          line: 227,\n          column: 10\n        },\n        end: {\n          line: 233,\n          column: 11\n        }\n      },\n      \"10\": {\n        start: {\n          line: 235,\n          column: 6\n        },\n        end: {\n          line: 237,\n          column: 8\n        }\n      },\n      \"11\": {\n        start: {\n          line: 236,\n          column: 8\n        },\n        end: {\n          line: 236,\n          column: 60\n        }\n      },\n      \"12\": {\n        start: {\n          line: 238,\n          column: 6\n        },\n        end: {\n          line: 238,\n          column: 18\n        }\n      },\n      \"13\": {\n        start: {\n          line: 241,\n          column: 6\n        },\n        end: {\n          line: 243,\n          column: 7\n        }\n      },\n      \"14\": {\n        start: {\n          line: 242,\n          column: 8\n        },\n        end: {\n          line: 242,\n          column: 17\n        }\n      },\n      \"15\": {\n        start: {\n          line: 244,\n          column: 22\n        },\n        end: {\n          line: 244,\n          column: 72\n        }\n      },\n      \"16\": {\n        start: {\n          line: 245,\n          column: 6\n        },\n        end: {\n          line: 250,\n          column: 7\n        }\n      },\n      \"17\": {\n        start: {\n          line: 253,\n          column: 6\n        },\n        end: {\n          line: 255,\n          column: 7\n        }\n      },\n      \"18\": {\n        start: {\n          line: 254,\n          column: 8\n        },\n        end: {\n          line: 254,\n          column: 17\n        }\n      },\n      \"19\": {\n        start: {\n          line: 256,\n          column: 6\n        },\n        end: {\n          line: 262,\n          column: 10\n        }\n      },\n      \"20\": {\n        start: {\n          line: 258,\n          column: 10\n        },\n        end: {\n          line: 261,\n          column: 11\n        }\n      },\n      \"21\": {\n        start: {\n          line: 267,\n          column: 4\n        },\n        end: {\n          line: 269,\n          column: 6\n        }\n      },\n      \"22\": {\n        start: {\n          line: 268,\n          column: 6\n        },\n        end: {\n          line: 268,\n          column: 27\n        }\n      },\n      \"23\": {\n        start: {\n          line: 273,\n          column: 4\n        },\n        end: {\n          line: 273,\n          column: 27\n        }\n      },\n      \"24\": {\n        start: {\n          line: 274,\n          column: 4\n        },\n        end: {\n          line: 274,\n          column: 10\n        }\n      },\n      \"25\": {\n        start: {\n          line: 279,\n          column: 6\n        },\n        end: {\n          line: 279,\n          column: 30\n        }\n      },\n      \"26\": {\n        start: {\n          line: 280,\n          column: 6\n        },\n        end: {\n          line: 280,\n          column: 38\n        }\n      },\n      \"27\": {\n        start: {\n          line: 281,\n          column: 6\n        },\n        end: {\n          line: 290,\n          column: 7\n        }\n      },\n      \"28\": {\n        start: {\n          line: 282,\n          column: 8\n        },\n        end: {\n          line: 282,\n          column: 140\n        }\n      },\n      \"29\": {\n        start: {\n          line: 283,\n          column: 8\n        },\n        end: {\n          line: 283,\n          column: 79\n        }\n      },\n      \"30\": {\n        start: {\n          line: 284,\n          column: 8\n        },\n        end: {\n          line: 284,\n          column: 87\n        }\n      },\n      \"31\": {\n        start: {\n          line: 286,\n          column: 8\n        },\n        end: {\n          line: 286,\n          column: 33\n        }\n      },\n      \"32\": {\n        start: {\n          line: 288,\n          column: 8\n        },\n        end: {\n          line: 288,\n          column: 41\n        }\n      },\n      \"33\": {\n        start: {\n          line: 289,\n          column: 8\n        },\n        end: {\n          line: 289,\n          column: 79\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 166,\n            column: 2\n          },\n          end: {\n            line: 166,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 166,\n            column: 10\n          },\n          end: {\n            line: 211,\n            column: 3\n          }\n        },\n        line: 166\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 214,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 214,\n            column: 18\n          },\n          end: {\n            line: 239,\n            column: 5\n          }\n        },\n        line: 214\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 225,\n            column: 13\n          },\n          end: {\n            line: 225,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 225,\n            column: 29\n          },\n          end: {\n            line: 234,\n            column: 9\n          }\n        },\n        line: 225\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 235,\n            column: 17\n          },\n          end: {\n            line: 235,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 235,\n            column: 34\n          },\n          end: {\n            line: 237,\n            column: 7\n          }\n        },\n        line: 235\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 240,\n            column: 4\n          },\n          end: {\n            line: 240,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 240,\n            column: 15\n          },\n          end: {\n            line: 251,\n            column: 5\n          }\n        },\n        line: 240\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 252,\n            column: 4\n          },\n          end: {\n            line: 252,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 252,\n            column: 23\n          },\n          end: {\n            line: 263,\n            column: 5\n          }\n        },\n        line: 252\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 257,\n            column: 13\n          },\n          end: {\n            line: 257,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 257,\n            column: 20\n          },\n          end: {\n            line: 262,\n            column: 9\n          }\n        },\n        line: 257\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 266,\n            column: 2\n          },\n          end: {\n            line: 266,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 266,\n            column: 36\n          },\n          end: {\n            line: 270,\n            column: 3\n          }\n        },\n        line: 266\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 267,\n            column: 9\n          },\n          end: {\n            line: 267,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 267,\n            column: 21\n          },\n          end: {\n            line: 269,\n            column: 5\n          }\n        },\n        line: 267\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 272,\n            column: 2\n          },\n          end: {\n            line: 272,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 272,\n            column: 43\n          },\n          end: {\n            line: 275,\n            column: 3\n          }\n        },\n        line: 272\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 278,\n            column: 4\n          },\n          end: {\n            line: 278,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 278,\n            column: 34\n          },\n          end: {\n            line: 291,\n            column: 5\n          }\n        },\n        line: 278\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 215,\n            column: 6\n          },\n          end: {\n            line: 217,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 215,\n            column: 6\n          },\n          end: {\n            line: 217,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 215\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 215,\n            column: 10\n          },\n          end: {\n            line: 215,\n            column: 59\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 215,\n            column: 10\n          },\n          end: {\n            line: 215,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 215,\n            column: 32\n          },\n          end: {\n            line: 215,\n            column: 59\n          }\n        }],\n        line: 215\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 220,\n            column: 6\n          },\n          end: {\n            line: 222,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 220,\n            column: 6\n          },\n          end: {\n            line: 222,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 220\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 220,\n            column: 10\n          },\n          end: {\n            line: 220,\n            column: 32\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 220,\n            column: 10\n          },\n          end: {\n            line: 220,\n            column: 18\n          }\n        }, {\n          start: {\n            line: 220,\n            column: 22\n          },\n          end: {\n            line: 220,\n            column: 32\n          }\n        }],\n        line: 220\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 226,\n            column: 27\n          },\n          end: {\n            line: 226,\n            column: 155\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 226,\n            column: 59\n          },\n          end: {\n            line: 226,\n            column: 117\n          }\n        }, {\n          start: {\n            line: 226,\n            column: 120\n          },\n          end: {\n            line: 226,\n            column: 155\n          }\n        }],\n        line: 226\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 241,\n            column: 6\n          },\n          end: {\n            line: 243,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 241,\n            column: 6\n          },\n          end: {\n            line: 243,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 241\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 241,\n            column: 10\n          },\n          end: {\n            line: 241,\n            column: 59\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 241,\n            column: 10\n          },\n          end: {\n            line: 241,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 241,\n            column: 32\n          },\n          end: {\n            line: 241,\n            column: 59\n          }\n        }],\n        line: 241\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 253,\n            column: 6\n          },\n          end: {\n            line: 255,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 253,\n            column: 6\n          },\n          end: {\n            line: 255,\n            column: 7\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 253\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      sources: [\"Info.vue\"],\n      names: [],\n      mappings: \";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA\",\n      file: \"Info.vue\",\n      sourceRoot: \"src/views/dataset\",\n      sourcesContent: [\"<!--\\n   Licensed to the Apache Software Foundation (ASF) under one or more\\n   contributor license agreements.  See the NOTICE file distributed with\\n   this work for additional information regarding copyright ownership.\\n   The ASF licenses this file to You under the Apache License, Version 2.0\\n   (the \\\"License\\\"); you may not use this file except in compliance with\\n   the License.  You may obtain a copy of the License at\\n\\n       http://www.apache.org/licenses/LICENSE-2.0\\n\\n   Unless required by applicable law or agreed to in writing, software\\n   distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n   See the License for the specific language governing permissions and\\n   limitations under the License.\\n-->\\n\\n<template>\\n  <b-container fluid>\\n    <b-row class=\\\"mt-4\\\">\\n      <b-col cols=\\\"12\\\">\\n        <h2>/{{ this.datasetName }}</h2>\\n        <b-card no-body>\\n          <b-card-header header-tag=\\\"nav\\\">\\n            <Menu :dataset-name=\\\"datasetName\\\" />\\n          </b-card-header>\\n          <b-card-body>\\n            <div>\\n              <b-row>\\n                <b-col sm=\\\"12\\\" md=\\\"6\\\">\\n                  <h3 class=\\\"text-center\\\">Available Services</h3>\\n                  <div\\n                    :key=\\\"service['srv.type']\\\"\\n                    v-for=\\\"service in this.services\\\"\\n                  >\\n                    <b-row v-for=\\\"endpoint of service['srv.endpoints']\\\" :key=\\\"endpoint\\\">\\n                      <b-col cols=\\\"6\\\" class=\\\"text-right\\\">{{ service['srv.description'] }}</b-col>\\n                      <b-col cols=\\\"6\\\">\\n                        <a :href=\\\"`/${datasetName}/${endpoint}`\\\">\\n                          /{{ datasetName }}/{{ endpoint }}\\n                        </a>\\n                      </b-col>\\n                    </b-row>\\n                  </div>\\n                  <b-row class=\\\"my-4\\\">\\n                    <b-col cols=\\\"12\\\" align=\\\"center\\\">\\n                      <h3 class=\\\"text-center\\\">Dataset size</h3>\\n                      <b-form-group\\n                        class=\\\"mb-2\\\"\\n                      >\\n                        <b-button\\n                          id=\\\"count-triples-button\\\"\\n                          ref=\\\"count-triples-button\\\"\\n                          variant=\\\"primary\\\"\\n                          @click=\\\"$refs['count-triples-button'].disabled = true\\\"\\n                        >count triples in all graphs</b-button>\\n                      </b-form-group>\\n                      <b-popover\\n                        target=\\\"count-triples-button\\\"\\n                        triggers=\\\"focus\\\"\\n                        placement=\\\"auto\\\"\\n                      >\\n                        <template v-slot:title>\\n                          <b-button\\n                            @click=\\\"\\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\\n                            \\\"\\n                            class=\\\"close\\\"\\n                            aria-label=\\\"Close\\\">\\n                            <span class=\\\"d-inline-block\\\" aria-hidden=\\\"true\\\">&times;</span>\\n                          </b-button>\\n                          Confirm\\n                        </template>\\n                        <div class=\\\"text-center\\\">\\n                          <b-alert show variant=\\\"warning\\\">This may be slow and impose a significant load on large datasets</b-alert>\\n                          <b-button\\n                            @click=\\\"\\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\\n                              countTriplesInGraphs();\\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\\n                            \\\"\\n                            variant=\\\"primary\\\"\\n                            class=\\\"mr-2\\\">submit</b-button>\\n                          <b-button\\n                            @click=\\\"\\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\\n                            \\\"\\n                          >cancel</b-button>\\n                        </div>\\n                      </b-popover>\\n                      <b-table\\n                        :fields=\\\"countGraphFields\\\"\\n                        :items=\\\"countGraphItems\\\"\\n                        :busy=\\\"isDatasetSizeLoading\\\"\\n                        class=\\\"mt-3\\\"\\n                        bordered\\n                        hover\\n                        show-empty\\n                        small\\n                      >\\n                        <template v-slot:table-busy>\\n                          <div class=\\\"text-center text-danger my-2\\\">\\n                            <b-spinner class=\\\"align-middle\\\"></b-spinner>\\n                            <strong>Loading...</strong>\\n                          </div>\\n                        </template>\\n                        <template v-slot:empty>\\n                          <span>No data</span>\\n                        </template>\\n                      </b-table>\\n                    </b-col>\\n                  </b-row>\\n                </b-col>\\n                <b-col sm=\\\"12\\\" md=\\\"6\\\">\\n                  <h3 class=\\\"text-center\\\">Statistics</h3>\\n                  <b-table\\n                    :fields=\\\"statsFields\\\"\\n                    :items=\\\"statsItems\\\"\\n                    :foot-clone=\\\"false\\\"\\n                    :busy=\\\"isDatasetStatsLoading\\\"\\n                    bordered\\n                    hover\\n                    show-empty\\n                    small\\n                  >\\n                    <template v-slot:table-busy>\\n                      <div class=\\\"text-center text-danger my-2\\\">\\n                        <b-spinner class=\\\"align-middle\\\"></b-spinner>\\n                        <strong>Loading...</strong>\\n                      </div>\\n                    </template>\\n                    <template v-slot:custom-foot=\\\"scope\\\">\\n                      <b-tr>\\n                        <b-th v-for=\\\"field in scope.fields\\\" :key=\\\"field.key\\\">{{ overall[field.key] }}</b-th>\\n                      </b-tr>\\n                    </template>\\n                  </b-table>\\n                </b-col>\\n              </b-row>\\n           </div>\\n          </b-card-body>\\n        </b-card>\\n      </b-col>\\n    </b-row>\\n  </b-container>\\n</template>\\n\\n<script>\\nimport Menu from '@/components/dataset/Menu'\\nimport { displayError } from '@/utils'\\nimport currentDatasetMixin from '@/mixins/current-dataset'\\n\\nexport default {\\n  name: 'DatasetInfo',\\n\\n  components: {\\n    Menu\\n  },\\n\\n  mixins: [\\n    currentDatasetMixin\\n  ],\\n\\n  data () {\\n    return {\\n      datasetStats: {},\\n      datasetSize: null,\\n      isDatasetSizeLoading: false,\\n      popoverShow: false,\\n      statsFields: [\\n        {\\n          key: 'endpoint',\\n          label: 'Endpoint'\\n        },\\n        {\\n          key: 'total',\\n          label: 'Requests',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        },\\n        {\\n          key: 'good',\\n          label: 'Good',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        },\\n        {\\n          key: 'bad',\\n          label: 'Bad',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        }\\n      ],\\n      countGraphFields: [\\n        {\\n          key: 'name',\\n          label: 'graph name',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        },\\n        {\\n          key: 'triples',\\n          label: 'triples',\\n          sortable: true,\\n          sortDirection: 'asc'\\n        }\\n      ]\\n    }\\n  },\\n\\n  computed: {\\n    statsItems () {\\n      if (!this.datasetStats || !this.datasetStats.datasets) {\\n        return []\\n      }\\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\\n      const endpoints = dataset.endpoints\\n      if (!dataset || !endpoints) {\\n        return []\\n      }\\n      // collect the stats of each endpoint\\n      const items = Object.keys(endpoints)\\n        .map(endpointName => {\\n          const endpoint = !endpointName.startsWith('_') ? `${endpoints[endpointName].description} (${endpointName})` : endpoints[endpointName].description\\n          return {\\n            endpoint: endpoint,\\n            operation: endpoints[endpointName].operation,\\n            total: endpoints[endpointName].Requests,\\n            good: endpoints[endpointName].RequestsGood,\\n            bad: endpoints[endpointName].RequestsBad\\n          }\\n        })\\n      items.sort((left, right) => {\\n        return left.operation.localeCompare(right.operation)\\n      })\\n      return items\\n    },\\n    overall () {\\n      if (!this.datasetStats || !this.datasetStats.datasets) {\\n        return []\\n      }\\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\\n      return {\\n        endpoint: 'Overall',\\n        total: dataset.Requests,\\n        good: dataset.RequestsGood,\\n        bad: dataset.RequestsBad\\n      }\\n    },\\n    countGraphItems () {\\n      if (!this.datasetSize) {\\n        return []\\n      }\\n      return Object.keys(this.datasetSize)\\n        .map(key => {\\n          return {\\n            name: key,\\n            triples: this.datasetSize[key]\\n          }\\n        })\\n    }\\n  },\\n\\n  beforeRouteEnter (from, to, next) {\\n    next(async vm => {\\n      vm.datasetSize = null\\n    })\\n  },\\n\\n  async beforeRouteUpdate (from, to, next) {\\n    this.datasetSize = null\\n    next()\\n  },\\n\\n  methods: {\\n    async countTriplesInGraphs () {\\n      this.popoverShow = false\\n      this.isDatasetSizeLoading = true\\n      try {\\n        this.datasetSize = await this.$fusekiService.getDatasetSize(this.currentDataset['ds.name'], this.services.query['srv.endpoints'][0])\\n        this.$refs['count-triples-button'].disabled = this.isDatasetSizeLoading\\n        this.datasetStats = await this.$fusekiService.getDatasetStats(this.datasetName)\\n      } catch (error) {\\n        displayError(this, error)\\n      } finally {\\n        this.isDatasetSizeLoading = false\\n        this.$refs['count-triples-button'].disabled = this.isDatasetSizeLoading\\n      }\\n    }\\n  }\\n}\\n</script>\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"ff20620abc22e0e6aa2435980ba842059869d79e\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_154jr3v6y5 = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_154jr3v6y5();\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.sort.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Menu from '@/components/dataset/Menu';\nimport { displayError } from '@/utils';\nimport currentDatasetMixin from '@/mixins/current-dataset';\nexport default {\n  name: 'DatasetInfo',\n  components: {\n    Menu: Menu\n  },\n  mixins: [currentDatasetMixin],\n  data: function data() {\n    cov_154jr3v6y5().f[0]++;\n    cov_154jr3v6y5().s[0]++;\n    return {\n      datasetStats: {},\n      datasetSize: null,\n      isDatasetSizeLoading: false,\n      popoverShow: false,\n      statsFields: [{\n        key: 'endpoint',\n        label: 'Endpoint'\n      }, {\n        key: 'total',\n        label: 'Requests',\n        sortable: true,\n        sortDirection: 'asc'\n      }, {\n        key: 'good',\n        label: 'Good',\n        sortable: true,\n        sortDirection: 'asc'\n      }, {\n        key: 'bad',\n        label: 'Bad',\n        sortable: true,\n        sortDirection: 'asc'\n      }],\n      countGraphFields: [{\n        key: 'name',\n        label: 'graph name',\n        sortable: true,\n        sortDirection: 'asc'\n      }, {\n        key: 'triples',\n        label: 'triples',\n        sortable: true,\n        sortDirection: 'asc'\n      }]\n    };\n  },\n  computed: {\n    statsItems: function statsItems() {\n      cov_154jr3v6y5().f[1]++;\n      cov_154jr3v6y5().s[1]++;\n\n      if ((cov_154jr3v6y5().b[1][0]++, !this.datasetStats) || (cov_154jr3v6y5().b[1][1]++, !this.datasetStats.datasets)) {\n        cov_154jr3v6y5().b[0][0]++;\n        cov_154jr3v6y5().s[2]++;\n        return [];\n      } else {\n        cov_154jr3v6y5().b[0][1]++;\n      }\n\n      var dataset = (cov_154jr3v6y5().s[3]++, this.datasetStats.datasets[\"/\".concat(this.datasetName)]);\n      var endpoints = (cov_154jr3v6y5().s[4]++, dataset.endpoints);\n      cov_154jr3v6y5().s[5]++;\n\n      if ((cov_154jr3v6y5().b[3][0]++, !dataset) || (cov_154jr3v6y5().b[3][1]++, !endpoints)) {\n        cov_154jr3v6y5().b[2][0]++;\n        cov_154jr3v6y5().s[6]++;\n        return [];\n      } else {\n        cov_154jr3v6y5().b[2][1]++;\n      } // collect the stats of each endpoint\n\n\n      var items = (cov_154jr3v6y5().s[7]++, Object.keys(endpoints).map(function (endpointName) {\n        cov_154jr3v6y5().f[2]++;\n        var endpoint = (cov_154jr3v6y5().s[8]++, !endpointName.startsWith('_') ? (cov_154jr3v6y5().b[4][0]++, \"\".concat(endpoints[endpointName].description, \" (\").concat(endpointName, \")\")) : (cov_154jr3v6y5().b[4][1]++, endpoints[endpointName].description));\n        cov_154jr3v6y5().s[9]++;\n        return {\n          endpoint: endpoint,\n          operation: endpoints[endpointName].operation,\n          total: endpoints[endpointName].Requests,\n          good: endpoints[endpointName].RequestsGood,\n          bad: endpoints[endpointName].RequestsBad\n        };\n      }));\n      cov_154jr3v6y5().s[10]++;\n      items.sort(function (left, right) {\n        cov_154jr3v6y5().f[3]++;\n        cov_154jr3v6y5().s[11]++;\n        return left.operation.localeCompare(right.operation);\n      });\n      cov_154jr3v6y5().s[12]++;\n      return items;\n    },\n    overall: function overall() {\n      cov_154jr3v6y5().f[4]++;\n      cov_154jr3v6y5().s[13]++;\n\n      if ((cov_154jr3v6y5().b[6][0]++, !this.datasetStats) || (cov_154jr3v6y5().b[6][1]++, !this.datasetStats.datasets)) {\n        cov_154jr3v6y5().b[5][0]++;\n        cov_154jr3v6y5().s[14]++;\n        return [];\n      } else {\n        cov_154jr3v6y5().b[5][1]++;\n      }\n\n      var dataset = (cov_154jr3v6y5().s[15]++, this.datasetStats.datasets[\"/\".concat(this.datasetName)]);\n      cov_154jr3v6y5().s[16]++;\n      return {\n        endpoint: 'Overall',\n        total: dataset.Requests,\n        good: dataset.RequestsGood,\n        bad: dataset.RequestsBad\n      };\n    },\n    countGraphItems: function countGraphItems() {\n      var _this = this;\n\n      cov_154jr3v6y5().f[5]++;\n      cov_154jr3v6y5().s[17]++;\n\n      if (!this.datasetSize) {\n        cov_154jr3v6y5().b[7][0]++;\n        cov_154jr3v6y5().s[18]++;\n        return [];\n      } else {\n        cov_154jr3v6y5().b[7][1]++;\n      }\n\n      cov_154jr3v6y5().s[19]++;\n      return Object.keys(this.datasetSize).map(function (key) {\n        cov_154jr3v6y5().f[6]++;\n        cov_154jr3v6y5().s[20]++;\n        return {\n          name: key,\n          triples: _this.datasetSize[key]\n        };\n      });\n    }\n  },\n  beforeRouteEnter: function beforeRouteEnter(from, to, next) {\n    cov_154jr3v6y5().f[7]++;\n    cov_154jr3v6y5().s[21]++;\n    next( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(vm) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cov_154jr3v6y5().f[8]++;\n                cov_154jr3v6y5().s[22]++;\n                vm.datasetSize = null;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(from, to, next) {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              cov_154jr3v6y5().f[9]++;\n              cov_154jr3v6y5().s[23]++;\n              _this2.datasetSize = null;\n              cov_154jr3v6y5().s[24]++;\n              next();\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  methods: {\n    countTriplesInGraphs: function countTriplesInGraphs() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                cov_154jr3v6y5().f[10]++;\n                cov_154jr3v6y5().s[25]++;\n                _this3.popoverShow = false;\n                cov_154jr3v6y5().s[26]++;\n                _this3.isDatasetSizeLoading = true;\n                cov_154jr3v6y5().s[27]++;\n                _context3.prev = 6;\n                cov_154jr3v6y5().s[28]++;\n                _context3.next = 10;\n                return _this3.$fusekiService.getDatasetSize(_this3.currentDataset['ds.name'], _this3.services.query['srv.endpoints'][0]);\n\n              case 10:\n                _this3.datasetSize = _context3.sent;\n                cov_154jr3v6y5().s[29]++;\n                _this3.$refs['count-triples-button'].disabled = _this3.isDatasetSizeLoading;\n                cov_154jr3v6y5().s[30]++;\n                _context3.next = 16;\n                return _this3.$fusekiService.getDatasetStats(_this3.datasetName);\n\n              case 16:\n                _this3.datasetStats = _context3.sent;\n                _context3.next = 23;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](6);\n                cov_154jr3v6y5().s[31]++;\n                displayError(_this3, _context3.t0);\n\n              case 23:\n                _context3.prev = 23;\n                cov_154jr3v6y5().s[32]++;\n                _this3.isDatasetSizeLoading = false;\n                cov_154jr3v6y5().s[33]++;\n                _this3.$refs['count-triples-button'].disabled = _this3.isDatasetSizeLoading;\n                return _context3.finish(23);\n\n              case 29:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[6, 19, 23, 29]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","Menu","mixins","currentDatasetMixin","data","datasetStats","datasetSize","isDatasetSizeLoading","popoverShow","statsFields","key","label","sortable","sortDirection","countGraphFields","computed","statsItems","map","endpoint","operation","total","good","bad","items","overall","countGraphItems","triples","beforeRouteEnter","from","to","next","vm","beforeRouteUpdate","methods","countTriplesInGraphs","displayError"],"sourceRoot":"src/views/dataset","sources":["Info.vue"],"sourcesContent":["<!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the \"License\"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n-->\n\n<template>\n  <b-container fluid>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"12\">\n        <h2>/{{ this.datasetName }}</h2>\n        <b-card no-body>\n          <b-card-header header-tag=\"nav\">\n            <Menu :dataset-name=\"datasetName\" />\n          </b-card-header>\n          <b-card-body>\n            <div>\n              <b-row>\n                <b-col sm=\"12\" md=\"6\">\n                  <h3 class=\"text-center\">Available Services</h3>\n                  <div\n                    :key=\"service['srv.type']\"\n                    v-for=\"service in this.services\"\n                  >\n                    <b-row v-for=\"endpoint of service['srv.endpoints']\" :key=\"endpoint\">\n                      <b-col cols=\"6\" class=\"text-right\">{{ service['srv.description'] }}</b-col>\n                      <b-col cols=\"6\">\n                        <a :href=\"`/${datasetName}/${endpoint}`\">\n                          /{{ datasetName }}/{{ endpoint }}\n                        </a>\n                      </b-col>\n                    </b-row>\n                  </div>\n                  <b-row class=\"my-4\">\n                    <b-col cols=\"12\" align=\"center\">\n                      <h3 class=\"text-center\">Dataset size</h3>\n                      <b-form-group\n                        class=\"mb-2\"\n                      >\n                        <b-button\n                          id=\"count-triples-button\"\n                          ref=\"count-triples-button\"\n                          variant=\"primary\"\n                          @click=\"$refs['count-triples-button'].disabled = true\"\n                        >count triples in all graphs</b-button>\n                      </b-form-group>\n                      <b-popover\n                        target=\"count-triples-button\"\n                        triggers=\"focus\"\n                        placement=\"auto\"\n                      >\n                        <template v-slot:title>\n                          <b-button\n                            @click=\"\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\n                            \"\n                            class=\"close\"\n                            aria-label=\"Close\">\n                            <span class=\"d-inline-block\" aria-hidden=\"true\">&times;</span>\n                          </b-button>\n                          Confirm\n                        </template>\n                        <div class=\"text-center\">\n                          <b-alert show variant=\"warning\">This may be slow and impose a significant load on large datasets</b-alert>\n                          <b-button\n                            @click=\"\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\n                              countTriplesInGraphs();\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\n                            \"\n                            variant=\"primary\"\n                            class=\"mr-2\">submit</b-button>\n                          <b-button\n                            @click=\"\n                              $root.$emit('bv::hide::popover', 'count-triples-button');\n                              $refs['count-triples-button'].disabled = isDatasetStatsLoading\n                            \"\n                          >cancel</b-button>\n                        </div>\n                      </b-popover>\n                      <b-table\n                        :fields=\"countGraphFields\"\n                        :items=\"countGraphItems\"\n                        :busy=\"isDatasetSizeLoading\"\n                        class=\"mt-3\"\n                        bordered\n                        hover\n                        show-empty\n                        small\n                      >\n                        <template v-slot:table-busy>\n                          <div class=\"text-center text-danger my-2\">\n                            <b-spinner class=\"align-middle\"></b-spinner>\n                            <strong>Loading...</strong>\n                          </div>\n                        </template>\n                        <template v-slot:empty>\n                          <span>No data</span>\n                        </template>\n                      </b-table>\n                    </b-col>\n                  </b-row>\n                </b-col>\n                <b-col sm=\"12\" md=\"6\">\n                  <h3 class=\"text-center\">Statistics</h3>\n                  <b-table\n                    :fields=\"statsFields\"\n                    :items=\"statsItems\"\n                    :foot-clone=\"false\"\n                    :busy=\"isDatasetStatsLoading\"\n                    bordered\n                    hover\n                    show-empty\n                    small\n                  >\n                    <template v-slot:table-busy>\n                      <div class=\"text-center text-danger my-2\">\n                        <b-spinner class=\"align-middle\"></b-spinner>\n                        <strong>Loading...</strong>\n                      </div>\n                    </template>\n                    <template v-slot:custom-foot=\"scope\">\n                      <b-tr>\n                        <b-th v-for=\"field in scope.fields\" :key=\"field.key\">{{ overall[field.key] }}</b-th>\n                      </b-tr>\n                    </template>\n                  </b-table>\n                </b-col>\n              </b-row>\n           </div>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Menu from '@/components/dataset/Menu'\nimport { displayError } from '@/utils'\nimport currentDatasetMixin from '@/mixins/current-dataset'\n\nexport default {\n  name: 'DatasetInfo',\n\n  components: {\n    Menu\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      datasetStats: {},\n      datasetSize: null,\n      isDatasetSizeLoading: false,\n      popoverShow: false,\n      statsFields: [\n        {\n          key: 'endpoint',\n          label: 'Endpoint'\n        },\n        {\n          key: 'total',\n          label: 'Requests',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'good',\n          label: 'Good',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'bad',\n          label: 'Bad',\n          sortable: true,\n          sortDirection: 'asc'\n        }\n      ],\n      countGraphFields: [\n        {\n          key: 'name',\n          label: 'graph name',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'triples',\n          label: 'triples',\n          sortable: true,\n          sortDirection: 'asc'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    statsItems () {\n      if (!this.datasetStats || !this.datasetStats.datasets) {\n        return []\n      }\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\n      const endpoints = dataset.endpoints\n      if (!dataset || !endpoints) {\n        return []\n      }\n      // collect the stats of each endpoint\n      const items = Object.keys(endpoints)\n        .map(endpointName => {\n          const endpoint = !endpointName.startsWith('_') ? `${endpoints[endpointName].description} (${endpointName})` : endpoints[endpointName].description\n          return {\n            endpoint: endpoint,\n            operation: endpoints[endpointName].operation,\n            total: endpoints[endpointName].Requests,\n            good: endpoints[endpointName].RequestsGood,\n            bad: endpoints[endpointName].RequestsBad\n          }\n        })\n      items.sort((left, right) => {\n        return left.operation.localeCompare(right.operation)\n      })\n      return items\n    },\n    overall () {\n      if (!this.datasetStats || !this.datasetStats.datasets) {\n        return []\n      }\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\n      return {\n        endpoint: 'Overall',\n        total: dataset.Requests,\n        good: dataset.RequestsGood,\n        bad: dataset.RequestsBad\n      }\n    },\n    countGraphItems () {\n      if (!this.datasetSize) {\n        return []\n      }\n      return Object.keys(this.datasetSize)\n        .map(key => {\n          return {\n            name: key,\n            triples: this.datasetSize[key]\n          }\n        })\n    }\n  },\n\n  beforeRouteEnter (from, to, next) {\n    next(async vm => {\n      vm.datasetSize = null\n    })\n  },\n\n  async beforeRouteUpdate (from, to, next) {\n    this.datasetSize = null\n    next()\n  },\n\n  methods: {\n    async countTriplesInGraphs () {\n      this.popoverShow = false\n      this.isDatasetSizeLoading = true\n      try {\n        this.datasetSize = await this.$fusekiService.getDatasetSize(this.currentDataset['ds.name'], this.services.query['srv.endpoints'][0])\n        this.$refs['count-triples-button'].disabled = this.isDatasetSizeLoading\n        this.datasetStats = await this.$fusekiService.getDatasetStats(this.datasetName)\n      } catch (error) {\n        displayError(this, error)\n      } finally {\n        this.isDatasetSizeLoading = false\n        this.$refs['count-triples-button'].disabled = this.isDatasetSizeLoading\n      }\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}